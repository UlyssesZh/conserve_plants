% !TEX options=-shell-escape
\documentclass{article}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{amsthm}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{siunitx}
\usepackage{footnote}
\usepackage{tablefootnote}
\usepackage{makecell}
\usepackage[a4paper, total={7in, 10in}]{geometry}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{array}
\usepackage{verbatim}
\usepackage{unicode-math}
\usepackage{minted}
\usepackage{booktabs}

\setmathfont{XITS Math}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\var}{Var}

\setminted{breaklines,tabsize=2}

\newtheorem{assumption}{Assumption}
\newtheorem{definition}{Definition}

\pagestyle{fancy}
\fancyhf{}
\rhead{Page \thepage\ of \pageref{LastPage}}
\lhead{Team \# 10751}

\begin{document}

\begin{center}
Team Control Number

\Huge 10751

\normalsize ~

Problem Chosen

\Huge B

\Large 2020

HiMCM

Summary Sheet
\end{center}

\normalsize

 Summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary summary.

\newpage

\tableofcontents

\newpage
\section{Introduction}
\label{sec:intro}

The decrease in biodiversity due to the extinction of endangered plants and animals is a serious problem.
To avoid this, people need to spend money on protecting the plants and animals.

However, in some places like Florida, greatly needing biodiversity conservation,
people do not have enough money to protect all of the imperiled species there.
They need to find out a proper scheme of funding and protecting to make full use of the funds to get as much benefit as possible.

Different projects of conservation have different cost, benefit, and required time,
as shown in the table of threatened plants data (abbreviated as TPD in the following parts of the paper).
It is to be determined which projects are selected in the optimal plan according to these factors.
After choosing the projects, when to start the projects should also be determined to balance the funds spent over time as possible.
To make it clear what is going to be done, the problem is restated mathematically in Section \ref{sec:restatement}.
The model and the method to derive the results are to be explained in Section \ref{sec:model}.

We will write a non-technical memo in Section \ref{sec:memo} to give our proposal according to our model.

% TODO: assigned to Orash

\section{Restatement of the problem}
\label{sec:restatement}

In Florida, many plant species are facing the challenge of extinction.
Various plant conservation projects with different budgets and timelines are now being conducted to resolve this problem.
However, one major issue is that funds mainly from the annual fundraising are not sufficient to support all projects.
Therefore, it is essential to make a plan for the managers who monitor the whole plan to help them precisely decide which project should be included and when and how to allocate their fund.
What's notable is that the final goal of this plan is not to simply save as many as plant species as possible.
Instead, it should generate greatest benefit meanwhile taking account of different factors, like feasibility of success and the uniqueness of this species.
The time spanning to finish the whole plan is also a factor that needs to be seriously considered because as more time being taken to protect one species, the likelihood of another plant dying out shall decrease, finally leading to less benefit.
Another factor is the funds spent on these projects.
Obviously, a project with median benefit but high expense doesn't fit.
The most suitable plan we need to find out should include all variables mentioned and give the best result.

% TODO: assigned to Stephen

The mathematical description of the problem is given in Section \ref{sec:model}.
To be specific, the problem is to reach the goal described in Section \ref{sec:goal}.

\section{List of symbols}

To make our model concise and straight forward, a list of symbols are defined as following, as shown in Table \ref{tab:symbols}.
The meaning of the symbols are to be explained in detail in the rest of this article.
In the table, the symbols in lower case are variables w.r.t. a project,
and the symbols in upper case are variables w.r.t. the plan.
The difference between a project and the plan is described in Section \ref{sec:projects and the plan}.

Note that in this article, all numberings
(like $x$ here numbering the projects, and $n$ later numbering the years)
start with $0$ instead of $1$ to meet the convention in computer science.

The symbol $\sum_j^n$ means to sum for $j=0,1,\dots,n-1$.
Similar notation is used for other operators like $\prod$, $\var$, and so on.

If $X$ is a variable related to the plan, $X^*$ denotes the actual value of the variable in the final optimal plan.

%\begin{definition}[efficiency]
%	The \textbf{efficiency} of a plan is defined as
%	\begin{equation}
%		...
%	\end{equation}
%\end{definition}
%表格
\begin{table}[h!]
\caption{List of symbols}
\label{tab:symbols}
\centering
\begin{tabular}{cccc}
\toprule
Symbol & Domain & Unit & Meaning\\
\midrule
$x$ & $\mathbb N$ & & The index of projects\\
$D$ & $\mathbb N$ & year & Duration of the plan\\
$d_x$ & $\mathbb N$ & year & Duration of project $x$\\
$n$ & $\mathbb N$ & year & Time (index of years)\\
$Z$ & $\mathscr P\left(\mathbb N\right)$ & & The set of chosen projects\\
$F$ & $\left[0,+\infty\right)$ & dollar & Total funds\\
$b_x$ & $\left[0,+\infty\right)$ & osu\tablefootnote{
   The unit osu is invented to represent the unit of benefit.
} & Benefit of project $x$\\
$u_x$ & $\left[0,1\right]$ & & Taxonomic uniqueness of project $x$\\
$s_x$ & $\left[0,1\right]$ & & Feasibility of success of project $x$\\
$c_{x,n}$ & $\left[0,+\infty\right)$ & dollar & Cost of project $x$ in the $n$th year\\
$c_x$ & $\left[0,+\infty\right)$ & dollar/year & Total cost of project $x$\\
$C_n$ & $\left[0,+\infty\right)$ & dollar/year & Cost of the plan in the $n$th year\\
$C$ & $\left[0,+\infty\right)$ & dollar & Cost of the plan\\
$\beta_x$ & $\left[0,+\infty\right)$ & osu & Effective benefit of project $x$\\
$B$ & $\left[0,+\infty\right)$ & osu & Total effective benefit of the plan\\
$T$ & $\left[0,+\infty\right)$ & osu/year & Time efficiency of the plan\\
$\xi$ & $\mathbb N$ & & The longest project in the plan\\
$a_x$ & $\mathbb N$ & year & When project $x$ starts\\
\bottomrule
\end{tabular}
\end{table}

\section{General assumptions}

\begin{assumption}
\label{as:funds at one time}
The funds are provided off at one time.
\end{assumption}

\begin{assumption}
	Conservation cannot be paused.
\end{assumption}
\begin{assumption}
	Different conservations can be done simultaneously and do not affect each other.
\end{assumption}
\begin{assumption}
	Extra funds' last year can be saved for this year.
\end{assumption}
\begin{assumption}
	The conservation plan should not change when it is ongoing.	
\end{assumption}
\begin{assumption}
\label{as:time efficiency over balancing}
The maximization of time efficiency is prior to the balancing of funds spent over time.
\end{assumption}

% TODO: assigned to Orash

\section{The model}
\label{sec:model}

\begin{comment}
\subsection{Relationship of different variable}
Suppose the funds raised each year is a constant $\alpha$, and the total fund raised $\sigma$ is given. Then $\sigma$ can be expressed in terms of $\alpha$:\\
\begin{equation}
	\label{eq:total_fund}
	\sigma=\sum_{u=1}^I\alpha=I\alpha
\end{equation}
\begin{equation}
\alpha=\frac{\sigma}{I}
\label{eq:funds_raised_each_year}
\end{equation}
The total cost of a single project $x$ and $e_x$ can be expressed as:\\
\begin{equation}
e_x=\sum_{v=1}^{T_x}E_x^{v},(x\in{Q_i}\subset \mathbb Z)
\end{equation}
We also can get the total cost of the whole plan:\\
\begin{equation}
\mathbb E=\sum_x e_x,(x\in{Q_i}\subset \mathbb Z)
\end{equation}
From $(3)$, replace $e_x$ with $\sum\nolimits_{n=1}^NE_x^{v}$\\
\begin{equation}
\mathbb E = \sum_x{\sum_{v=1}^{T_x}E_x^{v}},(x\in{Q_i}\subset \mathbb Z)
\end{equation}

\subsection{Evaluation of various project}
The effective benefit of a certain project $x$, $\beta_x$ can be expressed as
\begin{equation}
\beta_x={B_x}\cdot{U_x}\cdot{S_x}
\end{equation}

\par We use effective benefit $\beta_x$ instead of the benefit provided in the table of Threatened Plants Data (TPD) because benefit in the TPD ignores the fact that it relies on the uniqueness of the plant species and feasibility of success. If $U_x$ equals to $0$ (there are lots of other plant species can fill in its position), there is no need to preserve it as the benefit can completely brought by other plant species. Likewise, if $S_x$ equals to $0$ (no probability to succeed at all), even highest benefit remains useless. However, in terms of $\beta_x$ expression, it becomes 0 when $U_x$ or $S_x$ or both equal to 0, indicating no need for protecting this kind of plant.
\par As can be seen in the TPD, both $U_x$ and $S_x$  are in the interval $[0,1]$. When either or both of these variables get close to $1$ (high probability and uniqueness), the benefit $B_x$ of a certain project can be fully displayed:\\
\begin{equation}
\beta_x={B_x} \cdot {U_x} \cdot {S_x} \approx {B_x} \cdot 1 \cdot 1={B_x}
\end{equation}
\par Whether a plan is successful not only depends on how many species it saves or benefit it brings, but also relies on the expense and time spanning to finish it. Another variable $\zeta$ needs to be determined to further evaluate the plan. It can be expressed as:
\begin{equation}
\zeta=\frac{\sum_x ({B_x} \cdot {U_x} \cdot {S_x})}{\mathbb E \cdot I}(x\in{Q_i}\subset \mathbb Z)
\end{equation}
\par By using formula $(4)$, we can further expand it:
\begin{equation}
\zeta=\frac{\sum_x ({B_x} \cdot {U_x} \cdot {S_x})}{(\sum_x e_x) \cdot I}=\frac{\sum_x ({B_x} \cdot {U_x} \cdot {S_x})}{\sum_x {\sum_{v=1}^{T_x}E_x^{v}}\cdot I},(x\in{Q_i}\subset \mathbb Z)
\end{equation}
\par This equation is related to the time and the cost.
When the total cost or the time span is too large, the denominator $e_x \cdot T_x$ would decrease significantly, making $\zeta$ a small figure.
Lower number indicates less efficiency.
$\zeta$ of the optimal plans would be greater than those of other plans.

\subsection{Function and constraint}
\par In the first year, the total fund $F_1$ after fundraising is:
\begin{equation}
F_1=k+\alpha
\end{equation}
Suppose the all the projects that would be conducted in the first year $A_1$ is given, their total cost in the first year can be expressed as:
\begin{equation}
C_1=\sum_{u_1}{E_{u_1}^1},(u_1 \in A_1)
\end{equation}

The total cost in the first year could not exceed the total fund raised. This constraint can be showed as:
\begin{equation}
F_1=k+\alpha > C_1 =\sum_{u_1}{E_{u_1}^1},(u_1 \in A_1)
\end{equation}

\par And the left fund $L_1$ is:
\begin{equation}
L_1=F_1-C_1=k+a-\sum_{u_1} E_{u_1}^1,(u_1 \in A_1)
\end{equation}
\par Second year’s fund is the combination of the fund left in the first year and the fund raised in the second year:
\begin{equation}
F_2=L_1+\alpha
\end{equation}
\par Suppose all projects initiated in the second year $A_2$ is also given, the total cost in the second year $C_2$ the combination of the cost of projects initiated in the first year and projects initiated in the second year:
\begin{equation}
C_2=\sum_{u_1} E_{u_1}^2+\sum_{u_2} E_{u_2}^1,(u_1\in A_1,u_2\in A_2)
\end{equation}
\par Also, the constraint is that the total fund in second year is greater than the total cost:
\begin{equation}
F_2=L_1+\alpha>C_2x```
\end{equation}
\par The fund left in the second year $L_2$ is:
\begin{equation}
L_2=F_2-C_2=L_1+\alpha-C_2=k+2\alpha-(\sum_{u_1} E_{u_1}^2+\sum_{u_2} E_{u_2}^1),(u_1\in A_1,u_2\in A_2)
\end{equation}
\par Based on the same principal, we can find the total cost of projects in $n^{th}$ year:
\begin{equation}
C_n=\sum_{u_1} E_{u_1}^{n}+\sum_{u_2} E_{u_2}^{n-1}+\cdots+\sum_{u_n} E_{u_n}^1=\sum_{i=1}^n {\sum_{u_i} E_{u_i}^{n-i+1}}
\end{equation}
$$(define \forall n-i+1>T_{u_i}:E_ui^{n-i+1}=0)$$
where $(u_p\in A_p,(p=1,2,\cdots,n))$.
And the total fund in $F_n$ can also be found:\\
\begin{equation}
	F_n=L_{n-1}+\alpha=F_{n-1}-C_{n-1}+\alpha=F_{n-1}-\sum_{i=1}^{n-1}\sum_{u_i} E_{u_i}^{(n-1)-i+1}+\alpha
\end{equation}

$$(u_p \in A_p,(p=1,2,\cdots,n-1))$$

Through this recursion formula, we can find $F_n$ in terms of $F_1$:

\begin{equation}
\begin{split}
	F_n&=F_{n-2}-\sum_{i=1}^{n-2} \sum_{u_i} E_{u_i}^{(n-2)-i+1}-\sum_{i=1}^{n-1} \sum_{u_i} E_{u_i}^{(n-1)-i+1}+\alpha+\alpha=F_{n-3}-\cdots+3\alpha\\
	&=F_1-\sum_{j=1}^{n-1} \sum_{i=1}^{j}\sum_{u_i} E_{u_i}^{j-i+1}+(n-1)\alpha=k+\sum_{j=1}^{n-1} {\sum_{i=1}^{j} \sum_{u_i} E_{u_i}^{j-i+1}+n\alpha},
\end{split}
\end{equation}
where $u_p \in A_p$, and $p=1,2,\cdots,n-1)$.

Therefore, by using $(1)$, we can get a series of constraints:

$$F_P>C_p,(p=1,2,\cdots,n)$$
\begin{equation}
k+\sum_{j=1}^{p-1} {\sum_{i=1}^j}{\sum_{u_i}}E_{u_i}^{p-i+1}+p\alpha>\sum_{i=1}^p {\sum_{u_i} E_{u_i}^{p-i+1}},(p=1,2,\cdots,n)
\end{equation}
\begin{equation}
k+\sum_{j=1}^{p-1} {\sum_{i=1}^j}{\sum_{u_i}}E_{u_i}^{p-i+1}+p\frac{\sigma}{I}>\sum_{i=1}^p {\sum_{u_i} E_{u_i}^{p-i+1}},(p=1,2,\cdots,n)
\end{equation}

\par Under these constraints, in order to give the best plan for plant conservation, we need to find the greatest value of $\zeta$ $(9)$:
\begin{equation}
	\zeta = \frac{\sum_x (B_x \cdot U_x \cdot _{S_x})}{(\sum_x \sum_{v=1}^{T_x})\cdot I},(x \in {Q_i} \subset Z=\bigcup\limits_{t=1}^{n} A_t)
\end{equation}
\end{comment}

\subsection{Projects and the plan}
\label{sec:projects and the plan}

The word \textbf{project} is used to represent a conservation of a certain species of plant.
According to the TPD, there are some \textbf{raw data} attributed to a project $x$, which are
the \textbf{unique id}, the \textbf{taxonomic uniqueness} $u_x$, the \textbf{feasibility of success} $s_x$, the \textbf{cost} $c_{x,n}$ of the $n$th year.
These concepts are explained in Section \ref{sec:raw attributes}.

The word \textbf{plan} is used to represent how the projects are going to be executed,
including which projects are executed (the set $Z$) and when they should start (the sequence $\left\{a_x\right\}$).
Deciding the which projects to be executed is to maximize the time efficiency (described in Section \ref{sec:time efficiency}).
Deciding when the projects start is to minimize the variance of yearly cost (described in Section \ref{sec:variance of yearly costs}).

\subsection{Raw attributes of projects}
\label{sec:raw attributes}

To make the concepts more clear and make it easy to use them later,
although the meanings of the raw data are described in the TPD,
their meanings should be re-described in a mathematical way.

\begin{definition}[benefit]
The \textbf{benefit} of project $x$ is a real number $b_x\in\left[0,+\infty\right)$.
\end{definition}

The benefit is an important indicator indicating how imperiled the species is and how easy the project can be done.
However, $b_x$ cannot be directly used to measure how much can we benefit from finishing the project.
Another derived concept called \textbf{effective benefit} should be used instead, as explained in Section \ref{sec:effective benefit}.

\begin{definition}[taxonomic uniqueness]
The \textbf{taxonomic uniqueness} of project $x$ is a real number $u_x\in\left[0,1\right]$.
\end{definition}

The taxonomic uniqueness is a measure of how the species is unique from other species.
It is stipulated that $u_x=0$ if there exists a species that is exactly the same as the species conserved in project $x$,
and $u_x=1$ if the species conserved in project $x$ does not have any similarities with any other species.

\begin{definition}[feasibility of success]
The \textbf{feasibility of success} of project $x$ is a real number $s_x\in\left[0,1\right]$.
\end{definition}

The meaning of $s_x$ is the probability of the success of project $x$.

\begin{definition}[yearly cost]
The \textbf{yearly cost} of project $x$ is a real number $c_{x,n}\in\left[0,+\infty\right)$.
\end{definition}

The meaning of $c_{x,n}$ is cost of project $x$ in the $n$th year.

\subsection{Effective benefit}
\label{sec:effective benefit}

Although $b_x$ is defined for a project, hardly can a project lead to so much benefit finally.
A new concept should be defined to describe how much can people actually benefit from finishing the project.

\begin{definition}[effective benefit]
The \textbf{effective benefit} of a project is a real number $\beta_x\in\left[0,+\infty\right)$ defined as
\begin{equation}
\label{eq:effective benefit}
\beta_x:=b_xu_xs_x.
\end{equation}
\end{definition}

Here is the explanation of why the effective benefit should be defined as Equation \ref{eq:effective benefit}.

First, consider the effect of $u_x$.
If $u_x=0$, which means there is a species the same as the conserved species,
the conservation is useless because even if the conserved species die out, there are other species taking the place.
If $u_x=1$, which means there are no similar species to the conserved species,
the conservation is meaningful and can exert full benefit.
From these two cases, it is reasonable to multiply $b_x$ with $u_x$,
which means $u_x$ represents the portion of $b_x$ that can be exerted if the project is successfully finished.

Then, consider the effect of $s_x$.
It is a probability, so the effect should be considered statistically.
Imagine there are many parallel universes, in each of which project $x$ is carried out under the same condition.
According to the law of large numbers, the portion of successful executions is the probability $s_x$, exerting the benefit,
while the rest does not make any benefit.
Then, the mean of all the benefits is $s_x\cdot b_x+\left(1-s_x\right)\cdot0=b_xs_x$.

Combining the two effects above, the formula for effective benefit (Equation \ref{eq:effective benefit}) can be derived.

From now on, when measuring how much can a project benefit people,
$\beta_x$ is used instead of $b_x$.

By summing up the effective benefit for all projects of the plan, the total effective benefit can be defined.

\begin{definition}[total effective benefit]
The \textbf{total effective benefit} of the project is a real number $B\in\left[0,+\infty\right)$ defined as
\begin{equation}
B:=\sum_{x\in Z}b_x.
\end{equation}
\end{definition}

The $B$ is an important indicator of how much a plan is expected to benefit if the plan is executed.

\subsection{Duration}
\label{sec:duration}

The \textbf{duration} of a project is the time for which it lasts.
It can be defined according to the yearly costs of the project.

\begin{definition}[duration of project]
The \textbf{duration of project} $x$ is a real number $d_x\in\mathbb N$ defined as
\begin{equation}
d_x:=\min\left\{m\in\mathbb N\middle|\forall n\ge m:c_{x,n}=0\right\}
\end{equation}
\end{definition}

According to the TPD, a project must be able to end, which means such $d_x$ must exist.

The duration of the plan should be defined as the time interval between the time when the first project of the plan starts and the time when the last project of the plan ends.
However, due to Assumption \ref{as:time efficiency over balancing}, the duration of the plan should unnecessarily be defined in a so straight-forward way.
A better definition is given in Equation \ref{eq:duration of the plan} in Section \ref{sec:time efficiency}.

\subsection{Time efficiency}
\label{sec:time efficiency}

\begin{definition}[time efficiency]
The \textbf{time efficiency} of the plan is a real number $T\in\left[0,+\infty\right)$ defined as
\begin{equation}
T:=\frac BD.
\end{equation}
\end{definition}

The time efficiency of the plan is the average benefit gain during a unit of time.
It should be maximized to make the plan as efficient as possible,
whose reason can be found in Section \ref{sec:goal}.

According to Assumption \ref{as:time efficiency over balancing}, $T$ should be maximized before we think about how $a_x$ can be adjusted to balance the funds spent over time.
To maximize the time efficiency, the duration of the plan is the same as the duration of the project with the largest duration ($\xi$) in the plan,
where $\xi$ is the project with largest duration among $Z$
\begin{equation}
\xi:=\argmax_{x\in Z}d_x.
\end{equation}
Then, when $a_x$ are adjusted to minimize variance of yearly costs,
the start time of projects with shorter duration than $d_\xi$ will never be changed to make them start before $\xi$ starts or end after $\xi$ ends
because otherwise $D$ increases and thus makes $T$ smaller.
Therefore, rather than the straight-forward definition shown in Section \ref{sec:duration}, there is a better definition.

\begin{definition}[duration of the plan]
The \textbf{duration of the plan} is a real number $D\in\mathbb N$ defined as
\begin{equation}
\label{eq:duration of the plan}
D:=\max_{x\in Z}d_x.
\end{equation}
\end{definition}

It is obvious that if $C$ stays the same, the larger $T$ is, the better the plan is.
In fact, maximizing $T$ is of the most priority.
It may be surprising that the most prior goal is not maximizing $\frac TC$, which is more intuitive.
We do not try to maximize $\frac TC$ because if we did that,
it would lead to a trivial result:
the plan only contains one project with the minimum $\frac{\beta_x}{d_xc_x}$, which is not what we want to see.

\begin{proof}
Without loss of generality, assume that there are only $2$ plant candidates for the plan,
and then the mathematical induction can be used to generalize the conclusion to any number of plant candidates.

Without loss of generality, assume that $d_0\le d_1$, which means $D=d_1\ge d_0$.

Case 1: $\frac{\beta_0}{c_0}\le\frac{\beta_1}{c_1}$.

In this case,
\begin{equation*}
\frac{\beta_0}{c_0}\le\frac{\beta_0+\beta_1}{c_0+c_1}\le\frac{\beta_1}{c_1}.
\end{equation*}
Thus, if the plan consists of both the $2$ projects,
\begin{equation*}
\frac TC=\frac{\beta_0+\beta_1}{c_0+c_1}\cdot\frac1{d_1}\le\frac{\beta_1}{c_1d_1}.
\end{equation*}
Therefore, the plan consisting of only project $1$ is better than that of both projects.

Case 2: $\frac{\beta_0}{c_0}>\frac{\beta_1}{c_1}$.

Similarly to case 1, in this case,
\begin{equation*}
\frac{\beta_0}{c_0}>\frac{\beta_0+\beta_1}{c_0+c_1}>\frac{\beta_1}{c_1}.
\end{equation*}
Thus, if the plan consists of both the $2$ projects,
\begin{equation*}
\frac TC=\frac{\beta_0+\beta_1}{c_0+c_1}\cdot\frac1{d_1}<\frac{\beta_0}{c_0d_1}\le\frac{\beta_0}{c_0d_0}.
\end{equation*}
Therefore, the plan consisting of only project $0$ is better than that of both projects.

From the $2$ cases above, it can be derived that there always exists a plan with single project having the largest $\frac TC$ compared to any other plan.
\end{proof}

\subsection{Variance of yearly costs}
\label{sec:variance of yearly costs}

First, yearly costs need defining.
The yearly cost in the $n$th year of the plan is the sum of the costs of the projects in the $n$th year.
It should take into account the different start time of the projects.

\begin{definition}[start time]
The \textbf{start time} of project $x$ is a real number $a_x\in\mathbb N$.
\end{definition}

\begin{definition}[yearly costs]
The \textbf{yearly cost} of the plan in the $n$th year is a real number $C_n\in\left[0,+\infty\right)$ defined as
\begin{equation}
C_n:=\sum_{x\in Z}c_{x,n-a_x}.
\end{equation}
\end{definition}

To measure how balanced the spent funds are distributed through time, the variance of yearly costs $\var_n^DC_n$ is defined.
In Section \ref{sec:goal}, it is going to be minimized to balance the funds spent over time.

It can be proved that minimizing $\var_n^DC_n$ is the same as minimizing $\sum_n^DC_n^2$.

\begin{proof}
In this proof, symbol ``$\sim$'' denotes that two expressions have the same monotonicity.
\begin{align*}
\var_n^DC_n&=\frac1D\sum_n^D\left(C_n-\frac CD\right)^2\\
&\sim\sum_n^D\left(C_n^2-\frac{2C}DC_n+\frac{C^2}{D^2}\right)\\
&=\sum_n^DC_n^2-\frac{2C}D\sum_n^DC_n+\sum_n^D\frac{C^2}{D^2}\\
&=\sum_n^DC_n^2-\frac{C^2}D\\
&\sim\sum_n^DC_n^2.
\end{align*}
Thus, minimizing $\var_n^DC_n$ is the same as minimizing $\sum_n^DC_n^2$.
\end{proof}

\subsection{Constraints to the plan}
\label{sec:constraints}

First, consider the constraint due to the limitation of funds.
To describe the constraint, the total funds and the cost of the plan needs defining.

\begin{definition}[total funds]
The \textbf{total funds} is a real number $F\in\left[0,+\infty\right)$.
\end{definition}

\begin{definition}[cost of project]
The \textbf{cost of project} is a real number $c_x\in\left[0,+\infty\right)$ defined as
\begin{equation}
c_x:=\sum_n^\infty c_{x,n}.
\end{equation}
\end{definition}

The sum $c_x$ must converge because all terms following the $d_x$th term are $0$.

\begin{definition}[cost of the plan]
The \textbf{cost of the plan} is a real number $C\in\left[0,+\infty\right)$ defined as
\begin{equation}
C:=\sum_{x\in Z}c_x.
\end{equation}
\end{definition}

Due to Assumption \ref{as:funds at one time}, the constraint should be
\begin{equation}
\label{eq:constraint}
C\le F.
\end{equation}

There are also constraints resulting from the restrictions for $a_x$ due to the optimization of $T$.
According to the discussions in Section \ref{sec:time efficiency}, any projects in the plan should not start before the longest project start or end after the longest project end.
Let the start time of the longest project in the plan be the $0$th year, and then we have constraints for the start time
\begin{equation}
\label{eq:start time constraint}
\forall x\in Z:a_x\in\left[0,D-d_x\right).
\end{equation}

\subsection{The goal of the model}
\label{sec:goal}

The goal of the model is to
\begin{enumerate}
\item Decide proper $Z$ to make the plan have the maximum $T$,
\item Decide the minimum $F$ to satisfy step 1 under the constraint Equation \ref{eq:constraint},
\item Decide the $a_x$ for each chosen project in step 1 to minimize $\var_n^DC_n$ under the constraint Equation \ref{eq:start time constraint}.
\end{enumerate}

In this way, the derived plan can meet the requirements described in Section \ref{sec:restatement}.

To reach the goal, we need to develop some approaches based on the model,
which are described in Section \ref{sec:approach}.

\section{The approach}
\label{sec:approach}
\subsection{Find the maximum effective benefit that can be loaded into the package with given funds}
Define the function v = FN (m, POS), input: M current maximum bearing weight, POS specifies the position from which se to calculate.
The algorithm of recursive function is as follows:
1. Judge whether the weight of the object at POS exceeds M
2. If it is more than, give up the item in the position, and the function returns FN (m, POS + 1). If it is the last one, it will return 0 directly
3. If not, continue with the following process
4. If put in, get a value
v1=w[pos]+fn(M-w[pos],pos+1)
If you don't put it in, you get a value
v2=fn(M,pos+1)
If V1 > = V2, execute put: Mark OK [POS] as 1, and the function returns v1
If V1 < V2, the function returns v2
\subsection{Minimize the funds when the time efficiency maximum}

% TODO: assigned to Orash

\section{Pros and cons}
Our model have some pros and cons in solving the problem described in \ref{sec:intro}.
The pros are
\begin{enumerate}
\item Pro 1.
\item Pro 2.
\item Pro 3.
\end{enumerate}

The cons are
\begin{enumerate}
\item Con 1.
\item Con 2.
\item Con 3.
\end{enumerate}

% TODO: assigned to Orash

\newpage

\section{The memo}
\label{sec:memo}

Table \ref{tab:schedule} shows the schedule of the optimal plan.
The $n$th column denotes the $n$th year.
The last row sums the costs of the projects, representing the fundraising schedule.

The total cost of the plan is \$11010118.27.

\begin{table}[h!]
\centering
\caption{Schedule of executing the projects}
\label{tab:schedule}
\begin{tabular}{|p{1.8cm}|p{1.8cm}|p{1.8cm}|p{1.8cm}|p{1.8cm}|}
\hline
$0$ & $1$ & $2$ & $3$ & $4$\\
\hline\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-502}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-436}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-536}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-183}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-480}\\\hline
& \multicolumn{4}{c|}{1-Flowering Plants-135}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-481}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-176}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-475}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-546}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-558}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-553}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-442}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-537}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-548}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-426}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-452}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-455}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-133}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-168}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-476}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-137}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-485}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-528}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-520}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-514}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-517}\\\hline
& & \multicolumn{3}{c|}{1-Flowering Plants-529}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-557}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-179}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-530}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-440}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-513}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-524}\\\hline
\multicolumn{5}{|c|}{1-Flowering Plants-508}\\\hline
\multicolumn{5}{|c|}{1-Lichens-567}\\\hline
\hline
\$2600492.21 & \$2555863.21 & \$3024886.35 & \$1488407.44 & \$1340469.06\\
\hline
\end{tabular}
\end{table}

\newpage

\appendix

\section{The program used to decide $Z$}
\label{appendix:prog min T}

\inputminted{ruby}{../knappack.rb}

The \mintinline{text}{plant.rb} file defines the data structure of a plant and imports the constant \mintinline{ruby}{TPD}.

\section{The program used to decide $\left\{a_x\right\}$}

\inputminted{ruby}{../min_variance.rb}

\section{The program used to plot the graph of max $T$ related to $F$}

\inputminted{python}{../plot.py}

The program reads the result of the program in Appendix \ref{appendix:prog min T}.

\section{Table of max $T$ related to $F$ for $F<F^*$}

If $F$ is given, under the constraints given by Equation \ref{eq:constraint}, $T$ can be maximized by properly deciding $Z$.
The max $T$ related to $F$ for $F<F^*$ is given in Table \ref{tab:max T funds}.
For $F\ge F^*$, max $T$ is the same as $T^*$.
Data in Table \ref{tab:max T funds} are calculated by the program in Appendix \ref{appendix:prog min T}.

\begin{table}[h!]
\centering
\caption{Table of max $T$ related to $F$ before $T$ is maximized}
\label{tab:max T funds}
\begin{tabular}{cc}
\toprule
$F$ & max $T$\\
\midrule
\$0.00 & 0.00\\
\$300000.00 & 435567.00\\
\$600000.00 & 622541.67\\
\$900000.00 & 727932.67\\
\$1200000.00 & 810146.67\\
\$1500000.00 & 878511.67\\
\$1800000.00 & 909344.67\\
\$2100000.00 & 937911.67\\
\$2400000.00 & 937911.67\\
\$2700000.00 & 937911.67\\
\$3000000.00 & 957915.40\\
\$3300000.00 & 1010095.00\\
\$3600000.00 & 1058935.00\\
\$3900000.00 & 1111114.60\\
\$4200000.00 & 1160443.00\\
\$4500000.00 & 1203976.60\\
\$4800000.00 & 1253305.00\\
\$5100000.00 & 1291070.20\\
\$5400000.00 & 1328921.20\\
\$5700000.00 & 1373425.00\\
\$6000000.00 & 1403508.00\\
\$6300000.00 & 1430026.80\\
\$6600000.00 & 1456288.20\\
\$6900000.00 & 1473947.80\\
\$7200000.00 & 1497505.20\\
\$7500000.00 & 1522926.40\\
\$7800000.00 & 1533631.60\\
\$8100000.00 & 1556091.40\\
\$8400000.00 & 1571313.80\\
\$8700000.00 & 1590420.80\\
\$9000000.00 & 1603152.20\\
\$9300000.00 & 1622259.20\\
\$9600000.00 & 1622259.20\\
\$9900000.00 & 1622259.20\\
\$10200000.00 & 1628825.20\\
\$10500000.00 & 1631451.60\\
\$10800000.00 & 1631451.60\\
\$11100000.00 & 1638017.60\\
\bottomrule
\end{tabular}
\end{table}

\newpage

\begin{thebibliography}{9}
\item Ref 1.
\end{thebibliography}

\end{document}
